# 常量和变量

参考资料：

> [慕课网2019Java就业班-Java 零基础入门](https://class.imooc.com/sc/64)
>
> [JavaGuide](https://snailclimb.gitee.io/javaguide/#/)
>
> [菜鸟教程](https://www.runoob.com/java/java-basic-datatypes.html)
>
> 书籍：Java核心卷1(原书第10版)

## 数据类型

Java是一种强类型的语言，每一个量的使用之前，都需要声明类型以便分配对应大小的内存空间用于存放这个量的值，而数据类型的不同决定着这个空间大小的不同。

Java中有4种整型、2种浮点类型、1种用于表达Unicode编码的字符类型char以及1种用于表示真假值的boolean类型。

### 基本数据类型

#### 整型

整型用于表示没有小数部分的数值，它可以为负数，Java种提供了四种整形。

| Java整型 |          |                                                      |        |
| -------- | :------: | :--------------------------------------------------- | ------ |
| 类型     | 存储需求 | 取值范围                                             | 默认值 |
| byte     |  1字节   | -128~127                                             | 0      |
| short    |  2字节   | -32768~32767                                         | 0      |
| int      |  4字节   | -2,147,483,648~2,147,483,647                         | 0      |
| long     |  8字节   | -9,223,372,036,854,775,808~9,223,372,036,854,775,807 | 0L     |

通常，int是最常用的整型类型，long用于特大数字例如地球上居住人数，byte和short通常用于需要严格控制储存空间大小的情况。

> Java程序由于必须要保证在所有机器上都能得到相同的运行结果，所以在Java中，各种数据类型的范围与运行程序的机器无关，这一点与C\C++有区别
>
> 注意：Java没有任何无符号形势的整型类型

##### 字面值

在计算机的世界里，除了最常用的十进制以外，还有二进制八进制十六进制也比较常见，而我们在赋值的时候需要对不同的进制数进行区分

| 字面值   |            |          |
| -------- | ---------- | -------- |
| 进制     | 字面值符号 | 例子     |
| 十进制   |            | 12,13,48 |
| 二进制   | 0b         | 0b1001   |
| 八进制   | 0          | 037      |
| 十六进制 | 0x         | 0XABCD   |

#### 浮点类型

浮点类型用于表示有小数部分的数值

| Java浮点数 |          |                   |        |
| ---------- | -------- | ----------------- | ------ |
| 类型       | 存储需求 | 取值范围          | 默认值 |
| float      | 4字节    | 大约小数点后6-7位 | 0.0f   |
| double     | 8字节    | 大约小数点后15位  | 0.0d   |

double表示这种类型的数值精度是float的两倍，所以也有人叫他为双精度类型，在使用赋值的时候，float值需要在后面加一个f或者F,例如：3.14f，如果不加，则会被计算机默认为double类型

> 所有浮点数值的计算都遵循[IEEE754](https://baike.baidu.com/item/IEEE%20754/3869922?fromtitle=IEEE754%E6%A0%87%E5%87%86&fromid=10427270&fr=aladdin)规范
>
> 简单来说，表示溢出、出错的情况有三个特殊的浮点值：
>
> - 正无穷
>
> - 负无穷
>
> - NaN
>
>   例如：一个正整数除以0结果为正无穷，计算0/0或负数平方根为NaN

注意：由于浮点数精确度问题，所以它并不适合无法接受舍入误差的金融计算中，如果数值无法接受任何的舍入误差，请使用BigDecimal类

#### char类型

char类型表示单个字符

char类型的字面值要用单引号括起来

> 拓展阅读：[Unicode和char类型](./other/Java/unicode和char类型)

#### boolean类型

boolean类型只有两个值：false和true，通常用于判断逻辑条件，且，整型值和布尔值之间不能进行相互转换

> 为什么没有字符串？
>
> String 表示的是字符串对象，Java 中将字符串作为对象处理，而不是基本数据类型。在基本数据类型中，与String  比较相似的是字符类型（char），该类型变量只能表示一个字符长度，如‘a’。为char 类型赋值要使用单引号，为String  类型对象赋值要使用双引号。

### 引用数据类型

引用数据类型有三个类、接口、数组，在后续章节会单独讲述。

### 字符串

从严格意义来说，Java的字符串系统并不属于数据类型的一种，它其实是Unicode字符串序列，例如Java是由五个Unicode字符组成的，而为了方便使用在Java的标准类库中提供了一个预定义的类，叫做String，并且规定了，字符串的值由双引号括起来

```Java
String a = "Helloworld";
```

## 变量

之前我们提到过，在程序当中，每一个量都有自己的存放空间，如果这个存放空间里面的值是可以变化的，我们把这个量叫做变量

变量格式：

```Java
数据类型 变量名；
```

例子：

```java
int a;
long b;
short c;
```

我们可以看到，每个声明以分号结束，变量名满足标识符命名规则

### 标识符命名规则

- 标识符可以由字母、数字、下划线（_）和美元符($）组成，不能以数字开头
- 标识符严格区分大小写
- 标识符不能是Java关键字和保留字
- 标识符的命名最好能反映出其作用

#### 小驼峰命名法

和大驼峰命名法类似，为了更好的在程序中分辨出哪些是变量的名字,我们通常对变量名采用小驼峰命名法

- 类名是以小写字母开头的名词
- 名字有多个单词，除第一个单词首字母，每个单词开头都应大写
- 命名最好能反映出其作用

```java
String dogName = "旺旺";
```

### 初始化变量

在声明一个变量之后，我们需要使用赋值语句对变量进行初始化操作。

赋值语句的使用方法是：变量名 = 表达式(值);

```java
int a;
a = 10;//a的值为10
/*也可以在变量声明时初始化(声明变量并赋值)*/
int a = 10;
double b = 10.25;
float c = 9.9f;
```

在Java中，变量的声明尽可能的靠近变量第一次使用的地方，这是一种良好的编写习惯。

## 常量

常量差距不多，但是常量的值在经过第一次赋值之后，不允许二次赋值

常量格式:

```java
final 数据类型 变量名；
```

例子：

```java
final int A;
final long B;
final short C;
```

常量同样要求满住标识符的命名规范，但在编写程序的时候，为了和变量做区分，我们通常将常量全部大写

### 类常量

在Java中，有时需要一个常量在一个类的多个方法中反复调用，通常我们将这个常量在方法外面，使用static final设置成类常量

例如

```java
public class Constants{
    public static final double p = 3.14;
    //p值为类常量
    public static void main(String[] args){
        System.out.println(p);
    }
}
```

## 数据类型转换

在程序中，我们经常需要将一种数值类型转换为另一种数值类型来进行应用

类型转换分为自动类型转换和强制类型转换

### 自动类型转换(隐式转换)

在运算中，指的是小空间数据类型转向大空间数据类型。

![image-20200214155102776](ConstantAndVariable.assets/image-20200214155102776.png)

由于小空间的数值本身就小于大空间，小物品放在大物品里，不会发生任何的变化

```Java
int a;
short b = 10;
a = b;
```

### 强制类型转换

而强制类型转换就恰恰相反，通常用于，把大空间的值放到小空间里，那么就可能存在小空间放不下的情况，所以小空间会把放不下的那部分给丢掉

```Java
double d＝123.4;
float f=(float)d;
```



